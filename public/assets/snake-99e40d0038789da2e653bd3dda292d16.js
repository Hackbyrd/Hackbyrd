$(document).ready(function(){function n(){i="right",t(),a(),l=0,w++,"undefined"!=typeof game_loop&&clearInterval(game_loop),game_loop=setInterval(o,60)}function t(){var n=5;h=[];for(var t=n-1;t>=0;t--)h.push({x:t,y:0})}function a(){f={x:Math.round(Math.random()*(u-x)/x),y:Math.round(Math.random()*(v-x)/x)}}function o(){d.fillStyle=g[w%y],d.fillRect(0,0,u,v),$("body").css("background-color",g[w%y]);var t=h[0].x,o=h[0].y;if("right"==i?t++:"left"==i?t--:"up"==i?o--:"down"==i&&o++,-1==t||t>=u/x||-1==o||o>=v/x||r(t,o,h))return n(),void 0;if(t==f.x&&o==f.y){var c={x:t,y:o};l++,w++,a()}else{var c=h.pop();c.x=t,c.y=o}h.unshift(c);for(var s=0;s<h.length;s++){var C=h[s];e(C.x,C.y)}e(f.x,f.y);var p="Score: "+l;d.font="50px Coming Soon",d.fillText(p,10,v-5)}function e(n,t){d.fillStyle=s[w%y],d.fillRect(n*x,t*x,x,x)}function r(n,t,a){for(var o=0;o<a.length;o++)if(a[o].x==n&&a[o].y==t)return!0;return!1}$("#snake_canvas").attr("width",$(window).width()),$("#snake_canvas").attr("height",$(window).height()-10);var i,f,l,h,c=$("#snake_canvas")[0],d=c.getContext("2d"),u=$("#snake_canvas").width(),v=$("#snake_canvas").height(),g=["#4F8CF7","#CCCC00","#E95959","#55D573","#B95EC6","#313140"],s=["#1A4DA6","#CC9922","#B53838","#2CA549","#793C82","#5A5A66"],y=g.length,w=0,x=50;n(),$(document).keydown(function(n){var t=n.which;"37"==t&&"right"!=i?i="left":"38"==t&&"down"!=i?i="up":"39"==t&&"left"!=i?i="right":"40"==t&&"up"!=i&&(i="down")})});